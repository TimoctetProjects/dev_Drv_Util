/***************************************************************************************************
 ***************************************************************************************************
 *
 * @author	Duclos Timothe
 * @date	11/12/2014
 * @file	util_Inversion.c
 * @brief
 *
 ***************************************************************************************************/


/***************************************************************************************************
 * Includes
 */
#include "util_Inversion.h"

/***************************************************************************************************
 * Private defines
 */

/***************************************************************************************************
 * Private macros
 */

/***************************************************************************************************
 * Private Types
 */

/***************************************************************************************************
 * Private variables
 */
/***************************************************************************************************
 * Private Functions prototypes
 */

/***************************************************************************************************
 * Exported Functions definition
 */
/**-------------------------------------------------------------------------------------------------
 * @brief	Inversion d'un tableau de char
 */
void
Inversion_TabChar(
	uint8_t* Tab,		/**<[in] Pointeur sur le tableau a inverser */
	uint32_t Size_octet	/**<{in] Nombre d'octet (=char) composant le tableau */
) {

	uint8_t* tab_end;
	uint8_t* tab_temp = (uint8_t *) malloc((Size_octet+1) * sizeof(uint8_t));

	memset(tab_temp, 0, Size_octet);

	tab_end  = Tab 		- 1;
	Tab 	+= Size_octet	- 1;

	do 	{	*(tab_temp++) = *(Tab--);	}
	while	( (uint32_t) Tab != (uint32_t) tab_end	);

	Tab++;
	tab_temp -= Size_octet;

	__strncpy(Tab, tab_temp, Size_octet);

	free(tab_temp);
}

/***************************************************************************************************
 * Private Functions definition
 */
